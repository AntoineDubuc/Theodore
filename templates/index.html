<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Theodore - AI Company Intelligence</title>
    <meta name="description" content="Discover similar companies with AI-powered intelligence and advanced similarity analysis">
    
    <!-- Favicon -->
    <link rel="icon" href="{{ url_for('static', filename='img/favicon.ico') }}" type="image/x-icon">
    <link rel="shortcut icon" href="{{ url_for('static', filename='img/favicon.ico') }}" type="image/x-icon">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}?v={{ timestamp }}">
    
    <!-- Force cache refresh for updated interface -->
    
    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Theodore - AI Company Intelligence">
    <meta property="og:description" content="Discover similar companies with AI-powered intelligence">
    <meta property="og:image" content="{{ url_for('static', filename='img/og-image.png') }}">
    
    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="header-left">
                    <h1 class="logo">Theodore</h1>
                    <p class="tagline">AI-Powered Company Intelligence</p>
                    <p class="subtitle">Discover similar companies with advanced similarity analysis</p>
                </div>
                <div class="header-right">
                    <nav class="header-nav">
                        <a href="/settings" class="nav-link" title="System Configuration">
                            ‚öôÔ∏è Settings
                        </a>
                    </nav>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main">
        <div class="container">
            <!-- Messages Container -->
            <div id="messages"></div>

            <!-- Tab Navigation -->
            <div class="card">
                <div class="tab-nav">
                    <button class="btn btn-secondary tab-button active" data-tab="discoveryTab">
                        üîç Discover Similar Companies
                    </button>
                    <button class="btn btn-secondary tab-button" data-tab="processTab">
                        ‚ûï Add New Company
                    </button>
                    <button class="btn btn-secondary tab-button" data-tab="databaseTab">
                        üóÑÔ∏è Browse Database
                    </button>
                    <button class="btn btn-secondary tab-button" data-tab="batchTab">
                        üìä Batch Processing
                    </button>
                    <button class="btn btn-secondary tab-button" data-tab="classificationTab">
                        üè∑Ô∏è Classification Analytics
                    </button>
                </div>
            </div>

            <!-- Discovery Tab -->
            <div id="discoveryTab" class="tab-content active">
                <div class="search-card">
                    <form id="searchForm">
                        <div class="form-group">
                            <label for="companyName" class="form-label">
                                Company Name or Website URL
                            </label>
                            <div class="input-wrapper">
                                <input 
                                    type="text" 
                                    id="companyName" 
                                    name="company_name" 
                                    class="form-input" 
                                    placeholder="Enter company name or website URL (e.g., Visterra, https://stripe.com)"
                                    required
                                    autocomplete="off"
                                    spellcheck="false"
                                    data-form-type="other"
                                >
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="similarLimit" class="form-label">
                                Number of Similar Companies
                            </label>
                            <div class="input-wrapper">
                                <select id="similarLimit" name="limit" class="form-input">
                                    <option value="3">3 companies</option>
                                    <option value="5" selected>5 companies</option>
                                    <option value="7">7 companies</option>
                                    <option value="10">10 companies</option>
                                </select>
                            </div>
                        </div>

                        <!-- Advanced Filters -->
                        <div class="advanced-filters">
                            <div class="filters-header">
                                <label class="form-label">üîç Filter Results</label>
                                <button type="button" class="filters-toggle" onclick="window.theodoreUI.toggleFilters()">
                                    <span id="filtersToggleText">Show Filters</span>
                                    <span id="filtersToggleIcon">‚ñº</span>
                                </button>
                            </div>
                            
                            <div id="filtersContent" class="filters-content" style="display: none;">
                                <div class="filters-grid">
                                    <div class="filter-group">
                                        <label for="businessModelFilter" class="filter-label">Business Model Type</label>
                                        <select id="businessModelFilter" name="business_model_filter" class="filter-select">
                                            <option value="">All Companies</option>
                                            <option value="saas">SaaS Only</option>
                                            <option value="non-saas">Non-SaaS Only</option>
                                        </select>
                                    </div>

                                    <div class="filter-group">
                                        <label for="categoryFilter" class="filter-label">Classification Category</label>
                                        <select id="categoryFilter" name="category_filter" class="filter-select">
                                            <option value="">All Categories</option>
                                            <optgroup label="SaaS Verticals">
                                                <option value="AdTech">AdTech</option>
                                                <option value="AssetManagement">Asset Management</option>
                                                <option value="Billing">Billing</option>
                                                <option value="Bio/LS">Bio/LS</option>
                                                <option value="CollabTech">CollabTech</option>
                                                <option value="Data/BI/Analytics">Data/BI/Analytics</option>
                                                <option value="DevOps/CloudInfra">DevOps/CloudInfra</option>
                                                <option value="E-commerce & Retail">E-commerce & Retail</option>
                                                <option value="EdTech">EdTech</option>
                                                <option value="Enertech">Enertech</option>
                                                <option value="FinTech">FinTech</option>
                                                <option value="GovTech">GovTech</option>
                                                <option value="HRTech">HRTech</option>
                                                <option value="HealthTech">HealthTech</option>
                                                <option value="Identity & Access Management (IAM)">IAM</option>
                                                <option value="InsureTech">InsureTech</option>
                                                <option value="LawTech">LawTech</option>
                                                <option value="LeisureTech">LeisureTech</option>
                                                <option value="Manufacturing/AgTech/IoT">Manufacturing/AgTech/IoT</option>
                                                <option value="Martech & CRM">Martech & CRM</option>
                                                <option value="MediaTech">MediaTech</option>
                                                <option value="PropTech">PropTech</option>
                                                <option value="Risk/Audit/Governance">Risk/Audit/Governance</option>
                                                <option value="Social / Community / Non Profit">Social/Community/Non Profit</option>
                                                <option value="Supply Chain & Logistics">Supply Chain & Logistics</option>
                                                <option value="TranspoTech">TranspoTech</option>
                                            </optgroup>
                                            <optgroup label="Non-SaaS Categories">
                                                <option value="Advertising & Media Services">Advertising & Media Services</option>
                                                <option value="Biopharma R&D">Biopharma R&D</option>
                                                <option value="Combo HW & SW">Combo HW & SW</option>
                                                <option value="Education">Education</option>
                                                <option value="Energy">Energy</option>
                                                <option value="Financial Services">Financial Services</option>
                                                <option value="Healthcare Services">Healthcare Services</option>
                                                <option value="Industry Consulting Services">Industry Consulting Services</option>
                                                <option value="Insurance">Insurance</option>
                                                <option value="IT Consulting Services">IT Consulting Services</option>
                                                <option value="Logistics Services">Logistics Services</option>
                                                <option value="Manufacturing">Manufacturing</option>
                                                <option value="Non-Profit">Non-Profit</option>
                                                <option value="Retail">Retail</option>
                                                <option value="Sports">Sports</option>
                                                <option value="Travel & Leisure">Travel & Leisure</option>
                                                <option value="Wholesale Distribution & Supply">Wholesale Distribution & Supply</option>
                                                <option value="Unclassified">Unclassified</option>
                                            </optgroup>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="filters-actions">
                                    <button type="button" class="btn-mini btn-secondary" onclick="window.theodoreUI.clearFilters()">
                                        Clear Filters
                                    </button>
                                    <span class="filter-status" id="filterStatus">No filters active</span>
                                </div>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">
                                <span>üöÄ</span>
                                Discover Similar Companies
                            </button>
                            <button type="button" class="btn btn-accent" onclick="runDemo()">
                                <span>‚ö°</span>
                                Quick Demo
                            </button>
                            <button type="button" class="btn btn-secondary" onclick="document.getElementById('searchForm').reset();">
                                <span>üîÑ</span>
                                Clear
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Process Tab -->
            <div id="processTab" class="tab-content">
                <div class="search-card">
                    <h3 style="margin-bottom: 24px; color: var(--text-primary);">Intelligent Company Processing</h3>
                    <p style="margin-bottom: 24px; color: var(--text-secondary); font-size: 14px;">
                        Add companies to the database with AI-powered sales intelligence extraction. 
                        Provide a company name (required) and website URL (optional). If no website is provided, 
                        Theodore will attempt automatic discovery or generate a fallback URL. The system will then 
                        discover links, select relevant pages, and generate comprehensive sales insights with SaaS classification.
                    </p>
                    
                    <form id="processForm">
                        <div class="form-group">
                            <label for="newCompanyName" class="form-label">
                                Company Name
                            </label>
                            <div class="input-wrapper">
                                <input 
                                    type="text" 
                                    id="newCompanyName" 
                                    name="company_name" 
                                    class="form-input" 
                                    placeholder="Enter company name (e.g., Linear, Stripe)"
                                    required
                                >
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="companyWebsite" class="form-label">
                                Company Website
                                <span class="optional-indicator">(Optional - we'll find it automatically)</span>
                            </label>
                            <div class="input-wrapper">
                                <input 
                                    type="url" 
                                    id="companyWebsite" 
                                    name="website" 
                                    class="form-input" 
                                    placeholder="https://example.com (leave empty for automatic discovery)"
                                >
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn btn-accent" id="processButton">
                                <span>üß†</span>
                                Generate Sales Intelligence
                            </button>
                            <button type="button" class="btn btn-secondary" onclick="resetProcessForm()">
                                <span>üîÑ</span>
                                Clear
                            </button>
                        </div>
                    </form>

                    <!-- Real-time Progress Display -->
                    <div id="progressContainer" class="progress-container" style="display: none;">
                        <div class="progress-header">
                            <h4 id="progressTitle">Processing Company...</h4>
                            <div class="progress-controls">
                                <div class="progress-spinner"></div>
                                <button id="cancelProcessBtn" class="cancel-btn" onclick="theodoreUI.cancelCurrentJob()" title="Cancel processing">
                                    <span class="cancel-icon">‚úï</span>
                                    Cancel
                                </button>
                            </div>
                        </div>
                        
                        <div class="progress-phases">
                            <div class="phase-item" id="phase-link-discovery">
                                <div class="phase-icon">üîç</div>
                                <div class="phase-content">
                                    <div class="phase-name">Link Discovery</div>
                                    <div class="phase-status">Pending</div>
                                    <div class="phase-details"></div>
                                </div>
                                <div class="phase-check">‚è≥</div>
                            </div>
                            
                            <div class="phase-item" id="phase-page-selection">
                                <div class="phase-icon">üß†</div>
                                <div class="phase-content">
                                    <div class="phase-name">LLM Page Selection</div>
                                    <div class="phase-status">Pending</div>
                                    <div class="phase-details"></div>
                                </div>
                                <div class="phase-check">‚è≥</div>
                            </div>
                            
                            <div class="phase-item" id="phase-content-extraction">
                                <div class="phase-icon">üì•</div>
                                <div class="phase-content">
                                    <div class="phase-name">Content Extraction</div>
                                    <div class="phase-status">Pending</div>
                                    <div class="phase-details"></div>
                                </div>
                                <div class="phase-check">‚è≥</div>
                            </div>
                            
                            <div class="phase-item" id="phase-intelligence-generation">
                                <div class="phase-icon">üìÑ</div>
                                <div class="phase-content">
                                    <div class="phase-name">Sales Intelligence Generation</div>
                                    <div class="phase-status">Pending</div>
                                    <div class="phase-details"></div>
                                </div>
                                <div class="phase-check">‚è≥</div>
                            </div>
                        </div>
                        
                        <div class="progress-log">
                            <h5>Processing Log:</h5>
                            <div id="progressLog" class="log-content"></div>
                        </div>
                    </div>

                    <!-- Results Display -->
                    <div id="processResults" class="results-container" style="display: none;">
                        <div class="result-header">
                            <h4>üéâ Processing Complete!</h4>
                        </div>
                        
                        <div class="result-summary">
                            <div class="summary-stats">
                                <div class="stat-item">
                                    <span class="stat-label">Pages Processed:</span>
                                    <span class="stat-value" id="resultPages">0</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">Processing Time:</span>
                                    <span class="stat-value" id="resultTime">0s</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">Intelligence Length:</span>
                                    <span class="stat-value" id="resultLength">0 chars</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">Tokens Used:</span>
                                    <span class="stat-value" id="resultTokens">0 tokens</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">LLM Calls:</span>
                                    <span class="stat-value" id="resultLLMCalls">0 calls</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">Cost:</span>
                                    <span class="stat-value" id="resultCost">$0.0000</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="sales-intelligence">
                            <h5>Generated Sales Intelligence:</h5>
                            <div id="salesIntelligence" class="intelligence-content"></div>
                        </div>
                        
                        <div class="result-actions">
                            <button class="btn btn-accent" onclick="viewProcessedCompanyDetails()">
                                <span>üëÅÔ∏è</span>
                                View Full Details
                            </button>
                            <button class="btn btn-secondary" onclick="switchToDiscoveryTab()">
                                <span>üîç</span>
                                Test Similarity Discovery
                            </button>
                            <button class="btn btn-secondary" onclick="resetProcessForm()">
                                <span>‚ûï</span>
                                Process Another Company
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Database Tab -->
            <div id="databaseTab" class="tab-content">
                <div class="search-card">
                    <h3 style="margin-bottom: 24px; color: var(--text-primary);">Database Browser</h3>
                    
                    <!-- Database Stats -->
                    <div id="databaseStats" class="database-stats">
                        <div class="stat-item">
                            <span class="stat-label">Total Companies:</span>
                            <span class="stat-value" id="totalCompanies">Loading...</span>
                        </div>
                    </div>

                    <!-- Database Actions -->
                    <div class="form-actions" style="margin-bottom: 24px;">
                        <button type="button" class="btn btn-primary" onclick="refreshDatabase()">
                            <span>üîÑ</span>
                            Refresh
                        </button>
                        <button type="button" class="btn btn-accent" onclick="addSampleCompanies()">
                            <span>‚ö°</span>
                            Add Sample Companies
                        </button>
                        <button type="button" class="btn btn-danger" onclick="clearDatabase()" style="background: linear-gradient(135deg, #ff6b6b, #ee5a24);">
                            <span>üóëÔ∏è</span>
                            Clear Database
                        </button>
                    </div>

                    <!-- Companies Table -->
                    <div id="companiesTable" class="companies-table">
                        <div class="loading">Loading companies...</div>
                    </div>
                </div>
            </div>

            <!-- Batch Processing Tab -->
            <div id="batchTab" class="tab-content">
                <div class="search-card">
                    <h3 style="margin-bottom: 24px; color: var(--text-primary);">üìä Batch Processing</h3>
                    <p style="margin-bottom: 24px; color: var(--text-secondary); font-size: 14px;">
                        Process multiple companies from Google Sheets with AI-powered intelligence extraction.
                        Upload company lists and enrich them with products, services, leadership, and market data.
                    </p>
                    
                    <!-- Google Sheets Configuration -->
                    <form id="batchProcessForm">
                        <div class="form-group">
                            <label for="googleSheetUrl" class="form-label">
                                Google Sheets URL
                            </label>
                            <div class="input-wrapper">
                                <input 
                                    type="url" 
                                    id="googleSheetUrl" 
                                    name="google_sheet_url" 
                                    class="form-input" 
                                    placeholder="https://docs.google.com/spreadsheets/d/..."
                                    required
                                >
                            </div>
                            <p class="form-help">
                                Enter the URL of your Google Sheet containing company names and URLs.
                            </p>
                        </div>

                        <div class="form-group">
                            <label for="batchSize" class="form-label">
                                Number of Companies to Process
                            </label>
                            <select id="batchSize" name="batch_size" class="form-input">
                                <option value="5">5 companies (test)</option>
                                <option value="10" selected>10 companies</option>
                                <option value="25">25 companies</option>
                                <option value="50">50 companies</option>
                            </select>
                        </div>

                        <div class="form-actions">
                            <button type="button" class="btn btn-secondary" onclick="validateGoogleSheet()">
                                üîç Validate Sheet
                            </button>
                            <button type="submit" class="btn btn-primary">
                                üöÄ Start Batch Processing
                            </button>
                        </div>
                    </form>

                    <!-- Batch Processing Status -->
                    <div id="batchStatus" class="batch-status hidden">
                        <h4>Processing Status</h4>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 0%"></div>
                        </div>
                        <div class="status-details">
                            <span id="statusText">Initializing...</span>
                            <span id="progressText">0/0</span>
                        </div>
                    </div>

                    <!-- Batch Results -->
                    <div id="batchResults" class="batch-results hidden">
                        <h4>Processing Results</h4>
                        <div id="batchResultsContent">
                            <!-- Results will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Classification Analytics Tab -->
            <div id="classificationTab" class="tab-content">
                <div class="search-card">
                    <h3 style="margin-bottom: 24px; color: var(--text-primary);">üè∑Ô∏è SaaS Classification Analytics</h3>
                    <p style="margin-bottom: 24px; color: var(--text-secondary); font-size: 14px;">
                        Analyze and export business model classification data for companies in the Theodore database.
                    </p>
                    
                    <!-- Classification Overview Stats -->
                    <div class="classification-overview" id="classificationOverview">
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-number" id="totalCompanies">-</div>
                                <div class="stat-label">Total Companies</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" id="classifiedCompanies">-</div>
                                <div class="stat-label">Classified</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" id="saasCompanies">-</div>
                                <div class="stat-label">SaaS Companies</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" id="classificationPercentage">-</div>
                                <div class="stat-label">Classification %</div>
                            </div>
                        </div>
                        
                        <div class="confidence-distribution" id="confidenceDistribution">
                            <h4>Classification Confidence</h4>
                            <div class="confidence-bars">
                                <div class="confidence-bar">
                                    <span class="confidence-label">High (‚â•80%)</span>
                                    <div class="confidence-progress">
                                        <div class="confidence-fill high" id="highConfidenceBar"></div>
                                    </div>
                                    <span class="confidence-count" id="highConfidenceCount">0</span>
                                </div>
                                <div class="confidence-bar">
                                    <span class="confidence-label">Medium (60-79%)</span>
                                    <div class="confidence-progress">
                                        <div class="confidence-fill medium" id="mediumConfidenceBar"></div>
                                    </div>
                                    <span class="confidence-count" id="mediumConfidenceCount">0</span>
                                </div>
                                <div class="confidence-bar">
                                    <span class="confidence-label">Low (<60%)</span>
                                    <div class="confidence-progress">
                                        <div class="confidence-fill low" id="lowConfidenceBar"></div>
                                    </div>
                                    <span class="confidence-count" id="lowConfidenceCount">0</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Top Categories -->
                    <div class="top-categories" id="topCategories">
                        <h4>Top Categories</h4>
                        <div class="categories-list" id="categoriesList">
                            <!-- Categories will be populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Batch Classification Section -->
                    <div class="batch-classification-section" id="batchClassificationSection">
                        <h4>Batch Classification</h4>
                        <p style="color: var(--text-secondary); margin-bottom: 20px;">
                            Automatically classify unclassified companies using AI business model analysis.
                        </p>
                        
                        <div class="batch-classification-stats" id="batchClassificationStats">
                            <div class="batch-stat">
                                <span class="batch-stat-number" id="unclassifiedCount">-</span>
                                <span class="batch-stat-label">Unclassified Companies</span>
                            </div>
                        </div>
                        
                        <div class="batch-classification-controls">
                            <div class="batch-control-group">
                                <label for="batchClassificationSize" class="form-label">Batch Size</label>
                                <select id="batchClassificationSize" class="form-input batch-size-select">
                                    <option value="5">5 companies (test)</option>
                                    <option value="10" selected>10 companies</option>
                                    <option value="25">25 companies</option>
                                    <option value="50">50 companies (max)</option>
                                </select>
                            </div>
                            
                            <div class="batch-control-group">
                                <label>
                                    <input type="checkbox" id="forceReclassify">
                                    Force reclassify all companies
                                </label>
                            </div>
                        </div>
                        
                        <div class="batch-classification-actions">
                            <button type="button" class="btn btn-secondary" onclick="window.theodoreUI.loadUnclassifiedCompanies()">
                                üîÑ Refresh Count
                            </button>
                            <button type="button" class="btn btn-primary" onclick="window.theodoreUI.startBatchClassification()" id="startBatchClassificationBtn">
                                üè∑Ô∏è Start Batch Classification
                            </button>
                        </div>
                        
                        <!-- Batch Classification Progress -->
                        <div class="batch-classification-progress hidden" id="batchClassificationProgress">
                            <div class="progress-header">
                                <h5>Classification Progress</h5>
                                <span class="progress-status" id="batchProgressStatus">Initializing...</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="batchProgressFill" style="width: 0%"></div>
                            </div>
                            <div class="progress-details">
                                <span id="batchProgressText">0/0 companies processed</span>
                                <span id="batchProgressSuccess">0 successful</span>
                            </div>
                        </div>
                        
                        <!-- Batch Classification Results -->
                        <div class="batch-classification-results hidden" id="batchClassificationResults">
                            <h5>Classification Results</h5>
                            <div id="batchClassificationResultsContent">
                                <!-- Results will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>

                    <!-- Export Section -->
                    <div class="export-section">
                        <h4>Export Classification Data</h4>
                        <div class="export-options">
                            <div class="export-option">
                                <label>
                                    <input type="checkbox" id="includeUnclassified" checked>
                                    Include unclassified companies
                                </label>
                            </div>
                        </div>
                        <div class="export-actions">
                            <button type="button" class="btn btn-secondary" onclick="window.theodoreUI.exportClassificationData('json')">
                                üìÑ Export JSON
                            </button>
                            <button type="button" class="btn btn-primary" onclick="window.theodoreUI.exportClassificationData('csv')">
                                üìä Export CSV
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Results Section -->
            <div id="resultsSection" class="hidden">
                <div class="card">
                    <div class="results-header">
                        <h2 class="results-title">Similar Companies</h2>
                        <div class="results-count" id="resultsCount">0 found</div>
                    </div>
                    <div id="results" class="results">
                        <!-- Results will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Features Section -->
            <div class="card">
                <h3 style="margin-bottom: 24px; color: var(--text-primary); text-align: center;">
                    ‚ú® Theodore Features
                </h3>
                <div class="features-grid">
                    <div class="feature-item">
                        <div class="feature-icon">ü§ñ</div>
                        <h4>AI-Powered Discovery</h4>
                        <p>Advanced machine learning algorithms analyze company data to find meaningful similarities</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">üåê</div>
                        <h4>Web Intelligence</h4>
                        <p>Real-time web scraping and analysis to gather the latest company information</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">üìä</div>
                        <h4>Similarity Scoring</h4>
                        <p>Multi-method validation ensures accurate similarity scores and confidence levels</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">‚ö°</div>
                        <h4>Fast & Scalable</h4>
                        <p>Vector database technology enables lightning-fast searches across thousands of companies</p>
                    </div>
                </div>
            </div>

            <!-- Statistics Section -->
            <div class="card">
                <h3 style="margin-bottom: 24px; color: var(--text-primary); text-align: center;">
                    üìà System Statistics
                </h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-number">1</div>
                        <div class="stat-label">Companies Analyzed</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">5</div>
                        <div class="stat-label">AI Models</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">‚àû</div>
                        <div class="stat-label">Possibilities</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">24/7</div>
                        <div class="stat-label">Availability</div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer style="padding: 40px 0; text-align: center; color: var(--text-muted); border-top: 1px solid var(--border-subtle); margin-top: 60px;">
        <div class="container">
            <p>&copy; 2024 Theodore AI. Built with ‚ù§Ô∏è for intelligent company discovery.</p>
            <p style="font-size: 0.875rem; margin-top: 8px;">
                Powered by AWS Bedrock, Pinecone, and Crawl4AI
            </p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="{{ url_for('static', filename='js/app.js') }}?v={{ timestamp }}"></script>
    
    <!-- Additional CSS for components -->
    <style>
        .tab-nav {
            display: flex;
            gap: 16px;
            margin-bottom: 32px;
            justify-content: center;
        }

        .tab-button.active {
            background: var(--primary-gradient);
            color: white;
            box-shadow: 0 4px 20px rgba(102, 126, 234, 0.3);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .hidden {
            display: none;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 24px;
            margin-top: 32px;
        }

        .feature-item {
            text-align: center;
            padding: 24px;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            transition: all 0.3s ease;
        }

        .feature-item:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-medium);
            border-color: rgba(102, 126, 234, 0.3);
        }

        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 16px;
        }

        .feature-item h4 {
            color: var(--text-primary);
            margin-bottom: 12px;
            font-weight: 600;
        }

        .feature-item p {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 24px;
            margin-top: 32px;
        }

        .stat-item {
            text-align: center;
            padding: 24px;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            transition: all 0.3s ease;
        }

        .stat-item:hover {
            transform: translateY(-2px);
            border-color: rgba(102, 126, 234, 0.3);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 8px;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Custom select styling */
        select.form-input {
            cursor: pointer;
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
            background-position: right 12px center;
            background-repeat: no-repeat;
            background-size: 16px;
            padding-right: 40px;
            appearance: none;
        }

        /* Animation enhancements */
        @media (prefers-reduced-motion: no-preference) {
            .feature-item, .stat-item, .result-card {
                animation: fadeInUp 0.6s ease-out backwards;
            }
            
            .feature-item:nth-child(1) { animation-delay: 0.1s; }
            .feature-item:nth-child(2) { animation-delay: 0.2s; }
            .feature-item:nth-child(3) { animation-delay: 0.3s; }
            .feature-item:nth-child(4) { animation-delay: 0.4s; }
            
            .stat-item:nth-child(1) { animation-delay: 0.1s; }
            .stat-item:nth-child(2) { animation-delay: 0.2s; }
            .stat-item:nth-child(3) { animation-delay: 0.3s; }
            .stat-item:nth-child(4) { animation-delay: 0.4s; }
        }

        /* Database Browser Styles */
        .database-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
            padding: 20px;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
        }

        .database-stats .stat-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 16px;
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
        }

        .database-stats .stat-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
            font-weight: 500;
        }

        .database-stats .stat-value {
            color: var(--text-primary);
            font-size: 1.1rem;
            font-weight: 600;
        }

        .companies-table {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            overflow: hidden;
        }

        .companies-table .loading {
            padding: 40px;
            text-align: center;
            color: var(--text-secondary);
            font-style: italic;
        }

        .companies-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .companies-table th {
            background: rgba(102, 126, 234, 0.1);
            color: var(--text-primary);
            padding: 16px 12px;
            text-align: left;
            font-weight: 600;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 1px solid var(--glass-border);
        }

        .companies-table td {
            padding: 12px;
            color: var(--text-secondary);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            vertical-align: top;
        }

        .companies-table tr:hover {
            background: rgba(102, 126, 234, 0.05);
        }

        .companies-table .company-name {
            color: var(--text-primary);
            font-weight: 600;
        }

        .companies-table .company-id {
            font-family: 'Courier New', monospace;
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .btn-danger {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            border: none;
        }

        .btn-danger:hover {
            background: linear-gradient(135deg, #ee5a24, #c0392b);
            transform: translateY(-2px);
        }

        /* Mobile responsiveness */
        @media (max-width: 768px) {
            .tab-nav {
                flex-direction: column;
            }
            
            .features-grid {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .companies-table {
                overflow-x: auto;
            }

            .companies-table table {
                min-width: 600px;
            }

            .database-stats {
                grid-template-columns: 1fr;
            }
        }

        /* Details Spreadsheet Styles */
        .details-spreadsheet {
            margin-top: 20px;
        }

        .details-table-wrapper {
            overflow-x: auto;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background: var(--card-bg);
        }

        .details-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
            min-width: 1200px;
        }

        .details-table th {
            background: var(--secondary-gradient);
            color: white;
            padding: 12px 8px;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid var(--border-color);
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .details-table td {
            padding: 10px 8px;
            border-bottom: 1px solid var(--border-color);
            vertical-align: top;
            max-width: 120px;
        }

        .details-table tr:hover {
            background: rgba(102, 126, 234, 0.05);
        }

        .details-table .products-cell,
        .details-table .value-prop-cell,
        .details-table .culture-cell,
        .details-table .leadership-cell {
            max-width: 150px;
        }

        .details-table .cell-content {
            max-width: 100%;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            cursor: help;
        }

        .details-table .company-name-cell strong {
            color: var(--primary-color);
        }

        .details-table a {
            color: var(--accent-color);
            text-decoration: none;
        }

        .details-table a:hover {
            text-decoration: underline;
        }

        /* Responsive details table */
        /* Batch Processing Styles */
        .batch-status {
            margin-top: 24px;
            padding: 20px;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin: 16px 0;
        }

        .progress-fill {
            height: 100%;
            background: var(--primary-gradient);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .status-details {
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .batch-results {
            margin-top: 24px;
            padding: 20px;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
        }

        .batch-summary {
            margin-bottom: 20px;
        }

        .summary-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 16px;
        }

        .summary-stat {
            text-align: center;
            padding: 16px;
            border-radius: 8px;
            border: 1px solid var(--glass-border);
        }

        .summary-stat.success {
            background: rgba(67, 233, 123, 0.1);
            border-color: rgba(67, 233, 123, 0.3);
        }

        .summary-stat.failure {
            background: rgba(239, 68, 68, 0.1);
            border-color: rgba(239, 68, 68, 0.3);
        }

        .summary-stat.total {
            background: rgba(102, 126, 234, 0.1);
            border-color: rgba(102, 126, 234, 0.3);
        }

        .summary-stat .stat-number {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 4px;
            display: block;
        }

        .summary-stat.success .stat-number {
            color: #43e97b;
        }

        .summary-stat.failure .stat-number {
            color: #ef4444;
        }

        .summary-stat.total .stat-number {
            color: #667eea;
        }

        .summary-stat .stat-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .batch-results-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .batch-result-item {
            padding: 12px 16px;
            margin-bottom: 8px;
            border-radius: 8px;
            border: 1px solid var(--glass-border);
            background: rgba(255, 255, 255, 0.02);
        }

        .batch-result-item.success {
            border-left: 3px solid #43e97b;
        }

        .batch-result-item.failed {
            border-left: 3px solid #ef4444;
        }

        .result-company {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .result-status {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .result-details {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-top: 4px;
        }

        .result-error {
            font-size: 0.85rem;
            color: #ef4444;
            margin-top: 4px;
        }

        .form-help {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-top: 6px;
            line-height: 1.4;
        }
    </style>
</body>
</html>